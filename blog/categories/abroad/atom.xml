<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Abroad | SHAWN LEE]]></title>
  <link href="http://shawnLeeZX.github.io/blog/categories/abroad/atom.xml" rel="self"/>
  <link href="http://shawnLeeZX.github.io/"/>
  <updated>2015-09-07T15:30:15+08:00</updated>
  <id>http://shawnLeeZX.github.io/</id>
  <author>
    <name><![CDATA[Shawn]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[如何使用octopress搭建个人网站]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2013/09/22/ru-he-shi-yong-octopressda-jian-ge-ren-wang-zhan/"/>
    <updated>2013-09-22T15:21:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2013/09/22/ru-he-shi-yong-octopressda-jian-ge-ren-wang-zhan</id>
    <content type="html"><![CDATA[<h1 id="section">随笔</h1>

<p>人有的时候会由于时间和事情的压力变得很单向度，总是倾向于完成最紧急的事
情。于是很长的日子，很多的时间都是在一个和另一个危机之间相互转换。在很
忙很忙的时候，这也没错。只是很多时候并没有达到那个程度。</p>

<p>从前经常有想要写东西的时候，无论是技术笔记还是关于一些东西的感文，由于
时间来不及，一放就永远放下了。前一段时间很忙，主要的事情刚刚第一阶段告
一段落，又有向另一件紧急的事情rush的冲动。</p>

<p>想起从前看过的一篇文章和一本书。</p>

<!-- more -->

<p>文章是一位台湾教授写的，刚才搜了搜，找不到原文了。文章里大概有这么一句
话：真正困难、考验一个人能力而且对一个人在很长的时间线度上有重大影响的
往往是短期内看不见成果的事情。</p>

<p>书是《Seven Habits of Highly Effective People》。书里把所有的事情分成四
个象限——非紧急非重要、紧急非重要、紧急重要以及非紧急重要，而最后一个象
限，才是这本书的重点。非紧急重要也和《一万小时天才理论》里的一万小时也
有共同之处。</p>

<p>常常低头拉车，不时抬头看路。不要太匆匆忙忙，把每周末抽半天出来写要写的
东西吧，如果有的话。</p>

<h1 id="section-1">搭个人网站的动机</h1>
<p>前一段时间借着为了申请研究生建立个人网站的机会，搭起了这个网站。每个人的成
功都有不一样的原因，而每个人的失败多少都有相同的错误。为什么有许多人要
搭个人网站呢？在搭这个网站的过程中浏览学习了很多人的个人网站，也发现了
很多和我很像的人。</p>

<p>好了，闲聊结束，入正题。</p>

<h1 id="octopress">为什么选择octopress</h1>
<p>在确定octopress之前，我在一些平台中做过尝试，最初是人人，然后是新浪博客、
wordpress和豆瓣。这里我尝试做一下总结。不过，这些时间的尝试，与其说是对
平台的尝试，更多的可能还是对内容的尝试——自己在这个过程中学习了许多人的
博客和文章，学习如何写东西，以及察觉现有内容的不足和缺陷。</p>

<p>前面提到地方基本是商用的SNS，每一个平台都有自己的ecosystem。</p>

<p>人人在中国其实只是大学生的平台，其主要的积极作用基本在于在大学的初级阶
段，即大一大二时侯用于提前接触、认识新同学；在社团活动时进行活动宣传；
提供很方便的联系人的方式。在此之外，人人的积极作用便寥寥可数了。从本质
上来讲，其是面向社交的大学生消遣平台。因此，在上边一段时间之后，我就离
开度假了。</p>

<p>新浪博客以及wordpress相对人人来说，是真实社会的SNS，而且存在相对应的
ecosystem。对于仅使用文字内容的博主来说，这些平台基本够用了——其中新浪博
客对应的是国内，wordpress在国内被墙掉。但是我不满意的地方是，对于新浪博
客存在脚印，对于这两者，对于代码等的支持比较差，一些偏技术的内容写上去
可读性很差。</p>

<p>对于豆瓣，是最符合我胃口的SNS的了。豆瓣是国内唯一家以内容为导向的SNS，
秉承的是以物交友的理念。其中的书籍、电影推荐，以及豆瓣FM都能够推荐很多
很相关的内容。如果你想要看很精辟的你喜欢的电影、书籍的评论，你可以去豆
瓣；如果你不知道听什么歌，那么可以去豆瓣FM尝试找建立一下自己的红心FM。
但觉得豆瓣不好的两点是：小组内容的广告化有些严重，变成了类似于百度贴吧
的存在，垃圾信息过多；新人在豆瓣上启动起来难度很大（现在我也只是新人），
对于没有很多时间的人来说，比较难建立自己的友邻圈。但这两点不是我选择我
用octopress的原因。同样，豆瓣也是以文字为主题的内容，对于代码等支持很差。</p>

<p>所以我一直在寻找一个自己可控制程度高的服务，最终找到了octopress。</p>

<p>下面列些octopress的好处：</p>

<ul>
  <li>所有想贴想写的内容都有很好的支持，比如代码、图片、视频、引文、数学公
式等等，排版精美。</li>
  <li>完全的可自我定制化。从本质上来说，octopress是自己写的网站，自由拥有网
站html的控制权。因此自己可以控制内容的导向，网站的布局，从而不必被其
他SNS的提供商对用户的定位所限制。</li>
  <li>最后这是对于对网站前端有兴趣的同学的一个很好的学习机会和小项目。</li>
</ul>

<p>但octopress的缺点则是ecosystem比较薄弱，但这样也会更加内容导向吧。如果
你也是一个认为，生命是一篇需要记录故事，那么octopress也会适合你。</p>

<h1 id="octopress-1">使用octopress搭建一个功能完全的个人网站</h1>

<h2 id="section-2">引言</h2>
<p>关于如何搭建使用octopress的文章在网路上很多，我也是一点点搜索网上的文章
慢慢搭建起来这个网站的。但是使得我写这篇文章的动机是我觉得现在网路上存
在的文章多是一些octopress的使用片段笔记，不成系统。因此这篇文章的目的主
要是系统地介绍octopress并且使用它来搭建一个满足基本所有个人网站功能的个
人网站，同时也作为自己日后查找的笔记。同样，由于这不是一个step by step
的教程，一些内容的教程其实是一个链接，而有的链接是没有中文网站的。如果
有障碍，学习英文吧，<a href="{{ root_url }}/hobbies/books/title_needed.pdf">这里面</a>我写过一篇学习英文的文章。</p>

<h2 id="octopress-2">安装以及部署octopress</h2>
<p>关于这一部分内容最好的教程就是官网的了，见<a href="http://octopress.org/docs/setup/">这里</a>。官网中的要求也是使用octopress的前提要求，我也就不重述了。</p>

<p>如果英语阅读存在困难的话，我在建立个人网站的过程中路过的无数的如何建立octopress的翻译，谷歌一下就好了。</p>

<h2 id="octopress-3">octopress的原理简单介绍</h2>
<p>注：在阅读接下来的文章之前，请保证自己已经能够使用octopress来写博客，下面是对octopress的更进一步使用。</p>

<p>octopress的作用，或者说其中的Jekyll的作用就是避免让用户用html, css, javascript来写网站，而提供更方便的markdown, sass等。然而定制网站却仍然需要了解相关的一些知识。</p>

<h3 id="section-3">服务器工作方式介绍</h3>
<p>简单来讲，服务器即是接受用户给出的URL请求，然后返回对应的页面。</p>

<p>如果URL给出的是到一个文件夹的形式如：<code>http://octopress.org/docs/blogging/code/</code>。那么，服务器会在该目录下查找index.html文件，然后返回该页面。</p>

<p>如果URL给出的是到一个文件的形式如：<code>www.example.com/hello.txt</code>。那么，服务器返回该文件，对应在浏览器这里如果是html后缀的就将其解析显示在浏览器上，如果不是，则是一般意义上的下载。</p>

<h3 id="octopress-4">octopress的工作原理</h3>

<p>了解服务器的工作原理之后，就可以介绍octopress的工作原理了。</p>

<p>首先，描述一下octopress的文件组织。</p>

<p>对于我们简单用户有意义的在根目录就是下边这些文件。</p>

<p>{% codeblock lang:bash %}</p>

<p>_config.yml # octopress的配置文件，可以配置博客标题、副标题以及很多设置。
_deploy # 每次运行rake deploy时，被推送到host的文件，也就是组成最终网站的文件，就在这里
plugins # 用于存放octopress的插件，比如plugins/code_block.rb就是插入这里代码的ruby插件
public # 每次rake generate之后生成的文件的存放处，运行rake preview查看的文件就是这里。
sass # 需要进行进一步编译的从而得到网站最终的css文件的样式预编译文件
source # 这里是主要的工作区，你的网站就是对这个文件夹下的文件进行编译得到</p>

<p>{% endcodeblock %}</p>

<p><code>source</code>文件夹的文件结构如下：</p>

<p>{% codeblock lang:bash %}</p>

<p>about
assets
atom.xml
blog
favicon.png
images
_includes
index.markdown
javascripts
_layouts
_posts
robots.txt
stylesheets</p>

<p>{% endcodeblock %}</p>

<p>我们的工作区基本在<code>source</code>文件夹下，octopress的工作就是根据<code>sass</code>和<code>source/stylesheets</code>定义的样式，<code>source/_layout</code>定义的排版以及<code>source/_includes</code>和<code>source/_includes/custom</code>定义的各个部分（head, header, footer等）的内容，将所有有yml文件头的markdown文件转化为html文件，然后将剩余的文件原分不动拷贝，来生成最终被服务器使用的在public（用于预览）和_deploy（用于部署）文件夹中的纯静态网站——仅由html, css, javascript组成。</p>

<p>yml文件头即是文件开头部分的如下内容
{% codeblock lang:bash %}</p>

<hr />
<p>layout: post
title: 
date: 2013-09-22 15:21
comments: 
categories: 
—
{% endcodeblock %}</p>

<h2 id="section-4">如何添加页面</h2>

<p>在原理的指导下，进行octopress的定制就清晰得多了，一般情况下，人们都需要一个<code>About</code>的页面。方法就是在网站更目录下添加一个名为<code>about</code>的文件夹，然后在文件夹里建立<code>index.markdown文</code>件。</p>

<p>这样，在浏览器的URL栏里，输入<code>YOUR_HOMEPAGE_ADDR/about</code>就能够进入对应的<code>about</code>页面了（当然是编译之后）。</p>

<h2 id="sourceincludescustom">如何使用source/_includes/custom文件夹——更改导航栏</h2>

<p>然而，如果要在导航栏上提供可以点击的项目，则要使用octopress提供的接口了。</p>

<p>想在原理一节中所讲的，octopress会根据<code>source/_includes/custom</code>中的内容来生成最终在public的文件。对导航栏的修改即在里面。文件夹里的文件目录如下：</p>

<p>{% codeblock lang:bash %}</p>

<p>after_footer.html
asides              #侧边栏的定制
category_feed.xml
footer.html
header.html
head.html
navigation.html</p>

<p>{% endcodeblock %}</p>

<p>这里以添加导航栏为例，阐述<code>custom</code>文件夹的功能。</p>

<p>octopress就像拼拼图一样，将<code>custom</code>文件夹中的文件拼起来，<code>navigation.html</code>即会被拼到最终页面的导航部分。因此，在<code>navigation.html</code>中多添加一个表项就可以多添加一个导航项目。</p>

<p>{% codeblock lang:html %}</p>

<ul class="main-navigation">
   <li><a href="{{ root_url }}/blog">Blog</a></li>
   <li><a href="{{ root_url }}/blog/archives">Archives</a></li>
+  <li><a href="{{ root_url }}/about">About</a></li>
</ul>

<p>{% endcodeblock %}</p>

<p>custom文件夹中的其他文件也以类似的方式工作。比如，想要在网站标题旁边添加图片的话，则要修改<code>header.html</code>文件，在其中用html代码插入图片。</p>

<h2 id="section-5">主题定制</h2>

<p>octopress装好之后，做的第一件事应该是修改主题了。虽然自带的主题也很nice，但是无数人都撞衫也很感觉不好了。</p>

<p>现在网上提供了很多octopress的主题。尽管没有仔细调查，但是这些主题应该都是octopress
1.0时代的东西了，octopress 2.0提供了一个简单的接口来让用户自定义主题。</p>

<p>但是本节的主题改变并不能整个改变网站的布局，比如删去侧边栏。要完成这些功能还是要从octopress的源码里进行更改。</p>

<p>对于网站的主题的简单改变在于<code>sass</code>文件夹中（文件夹的组织见原理一节），其文件组织如下：</p>

<p>{% codeblock lang:bash %}</p>

<p>base
_base.scss
custom
partials
_partials.scss
plugins
screen.scss</p>

<p>{% endcodeblock %}</p>

<p>对于主题的改变都在<code>sass/custom</code>文件夹中，<code>custom</code>的文件夹组织如下：</p>

<p>{% codeblock lang:bash %}</p>

<p>_colors.scss
_fonts.scss
_layout.scss
_menu.scss
_styles.scss</p>

<p>{% endcodeblock %}</p>

<p>下面用两个例子来简单说明，第一个修改网站header背景的配色，第二个修改网站的宽度。通过这两个例子，触类旁通，也就可以自己定制主题了。</p>

<h3 id="colorsscss">在_colors.scss中修改配色</h3>

<p>下面代码片段中，<code>$header-bg</code>对应的是即是header背景的配色，其后的值即是RGB颜色值。尝试下面两个值来看一看颜色的变化。
{% codeblock lang:sass %}</p>

<p>// Here you can easily change your sites’s color scheme.
// To give it a try, uncomment some of the lines below rebuild your blog, and see how it works.
// If you need a handy color picker try http://hslpicker.com</p>

<p>// $header-bg: #dad4e3;
$header-bg: #ffffff;</p>

<p>{% endcodeblock %}
<code>$header-bg</code>仅是其中的一个选项，完整的选项的在<code>base/_theme.scss</code>中，尝试一下这些选项吧。你也可以直接修改<code>base/_theme.scss</code>中的配色，但是在<code>custom</code>文件夹中修改更为清晰明了易控制。</p>

<h3 id="layoutscss">在_layout.scss中修改网站宽度</h3>

<p>如下代码片段，中文注释处即是改变，同样，在<code>base/_layout.scss</code>中可以找到完整的可以修改的布局选项。
{% codeblock lang:sass %}</p>

<p>// Here you can easily change your sites’s layout.
// To give it a try, uncomment some of the lines below, make changes, rebuild your blog, and see how it works.</p>

<p>// $main-bg: #ffffff !default;
// $page-bg: #ffffff !default;
$main-bg: #ffffff;
$page-bg: #ffffff;</p>

<p>$header-font-size: 1em;
$header-padding-top: 1.5em;
$header-padding-bottom: 1.5em;</p>

<p>$max-width: 90%; // Liquid布局，使得网站适应各种屏幕大小
$indented-lists: true;</p>

<p>{% endcodeblock %}</p>

<h2 id="octopress-5">更改布局，让octopress更像个人网站而不是完全的博客</h2>

<p>octopress支持不同的页面种类有不同的页面布局。</p>

<p>比如，写博文的页面布局是post，而about页面是page布局。</p>

<p>但是默认的页面布局不一定满足需求，下面说明如何修改页面布局以及添加页面布局种类。</p>

<h3 id="section-6">更改布局</h3>

<p>第一步可以被定制的是每个页面对应的布局。</p>

<p>在<code>source/_layout</code>下存放着不同页面的布局文件。如下：</p>

<p>{% codeblock lang:bash %}</p>

<p>category_index.html
default.html
page.html # 比如该文件即是page页面的布局
post.html</p>

<p>{% endcodeblock %}</p>

<p>在一般情况下，page页面一般不需要日期在上边，因此我把日期去掉，方法就是注释掉一些代码。但是octopress会把贴在codeblock中的代码片段进行处理，变成纯html，我暂时没有找到不让octopress忽略codeblock中tag的方法，因此这里贴不了代码了。</p>

<h3 id="section-7">添加更多的布局种类</h3>
<p>对于我来说，我需要不只一个page类型，从而对不同种类的page使用不同的侧边栏。因此，如何多一些页面种类？</p>

<p>在每个文件的yml的header上有一个域用来选择使用的页面类型，如下
{% codeblock lang:html %}</p>

<hr />
<p>layout: post
title: 
date: 2013-09-22 15:21
comments: 
categories: 
—</p>

<p>{% endcodeblock %}</p>

<p>在<code>layout</code>一域中，选择自己新建的页面种类就可以了。比如使用这样的yml头部：</p>

<p>{% codeblock lang:html %}</p>

<hr />
<p>layout: new_type_post
title: 
date: 2013-09-22 15:21
comments: 
categories: 
—</p>

<p>{% endcodeblock %}</p>

<p>但为了让octopress找到相对应的布局，需要在<code>sourse/_layout</code>下添加对应的布局，这里即添加<code>new_type_post.html</code>。内容以原来的布局，如<code>page.html</code>为模板修改即可。</p>

<h2 id="section-8">搭建个人网站的更多细节</h2>
<p>到这里，基本这个个人网站就能够基本运作了，但是为了让其功能更完全，还有一些细节可以调整，这也是octopress强于其他博客平台的原因。</p>

<h3 id="section-9">加入多媒体</h3>

<h4 id="section-10">图片</h4>
<p>octopress提供了插入图片的插件，使用插件的方法在<a href="http://octopress.org/docs/plugins/image-tag/">这里</a>。</p>

<p>但是对于一些稍微学术一点的图片，我们需要在图片下加入大量的说明，这样简单的图片插入就不够用了，在<a href="http://blog.zerosharp.com/image-captions-for-octopress/">这里</a>可以找到如何达到下述效果的方法。
{% imgcap http://farm4.staticflickr.com/3666/9816457056_356c90c654_o_d.jpg 这里是说明，大量的说明，大量的说明，大量的说明，大量的说明 %}</p>

<p>对于想要展示很多图片的童鞋，也有fancy box和gallery可以使用，由于我暂时还没有这个需求，因此就不写了。</p>

<h4 id="section-11">音频</h4>
<p>如果想要在网站上添加分享音频的功能，则需要额外安装插件，在<a href="http://blog.micronarrativ.org/blog/2012/09/06/wordpress-til-octopress-audio/">这里</a>可以找到方法。</p>

<h4 id="section-12">视频</h4>
<p>在<a href="http://octopress.org/docs/plugins/video-tag/">这里</a>可以找到如何在octopress中插入视频。</p>

<h3 id="section-13">让导航栏能够拥有更多细节</h3>
<p>对于octopress来说，导航栏的项目变多之后排版会变得很乱，因此如果想在导航栏上加入更多的内容，那么每个导航栏项目下添加一个下拉菜单则可以解决问题。在<a href="https://github.com/octothemes/menu-plugin">这里</a>可以找到方法。效果预览即是本网站的下拉菜单效果。</p>

<h3 id="section-14">一些杂项</h3>

<h4 id="section-15">改变网站的小图标</h4>
<p>替换<code>source/favicon.png</code>文件</p>

<h4 id="section-16">文摘</h4>
<p>在写博文时，可以使用<code>&lt;!-- more --&gt;</code>注释来分割一部分文章作为文摘。只有文章在注释之前的第一部分会在博文目录的预览中出现。</p>

<h4 id="octopress-6">一些octopress使用技巧的文章</h4>
<p><a href="http://techtinkering.com/2011/08/17/improving-related-posts-on-jekyll/">Improving the related_posts feature of jekyll</a></p>

<p><a href="http://www.narga.net/improve-octopress-advanced-tweaks-tips/">Improve Octopress with Advanced Tweaks &amp; Tips</a></p>

<p><a href="http://octopressthemes.com/blog/2012/10/18/how-to-add-an-email-subscription-plugin-on-octopress/">How to Add an Email Subscription Plugin on Octopress</a></p>

<p><a href="http://octopress.org/docs/plugins/codeblock/">如何添加代码</a></p>

<p><a href="http://codemacro.com/2012/07/26/post-footer-plugin-for-octopress/">为octopress每篇文章添加一个文章信息</a></p>

<p><a href="http://fancyapps.com/fancybox/">fancyBox: fancyBox is a tool that offers a nice and elegant way to add zooming functionality for images, html content and multi-media on your webpages.</a></p>

<h4 id="markdown">一个markdown的教程</h4>
<p><a href="http://www.markdowntutorial.com/">http://www.markdowntutorial.com/</a></p>

<h4 id="markdown-1">如何在markdown中使用表格</h4>
<p>markdown的编译器能够识别出html的代码，因此，使用html的表格代码就能够实现表格的功能。</p>

]]></content>
  </entry>
  
</feed>
