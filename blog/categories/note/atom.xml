<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Note | SHAWN LEE]]></title>
  <link href="http://shawnLeeZX.github.io/blog/categories/note/atom.xml" rel="self"/>
  <link href="http://shawnLeeZX.github.io/"/>
  <updated>2015-11-13T11:46:02+08:00</updated>
  <id>http://shawnLeeZX.github.io/</id>
  <author>
    <name><![CDATA[Shawn]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Note On Compiling Tensorflow]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2015/11/13/note-on-compiling-tensorflow/"/>
    <updated>2015-11-13T11:35:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2015/11/13/note-on-compiling-tensorflow</id>
    <content type="html"><![CDATA[<p>A note on setting library path for cudnn when compiling tensorflow, in case I
forget it next time.</p>

<!-- more -->

<p>Directly providing the library path to cudnn, which has the following directory
structure,</p>

<p><code>bash
include  lib
</code></p>

<p>does not work.</p>

<p>According to the error message, it seems that the configuration tries to find
header file and shared libraries directly under the provided folder, thus this
time, I made another folder specifically for tensorflow — it is not in
<code>LD_LIBRARY</code>, so other programs do not use it — then the compilation works.</p>

<p>Since I just want to make sure I could get through the compilation process to
make sure if in case there are features not provided in the official binary, I
have a way to use it, I settled for now. But since the default folder is just
where CUDA lives, I guess if I made the directory structure of CUDNN the same
as CUDA, which I just need to add a symbol link <code>lib64</code> to <code>lib</code>, the
compilation may still work.</p>

<p>So this is the note.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[On Linear Programming, Duality of LP and Operator, a Functional Analysis Point of view]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2015/10/18/linear-programming-from-dual-mapping-point-of-view/"/>
    <updated>2015-10-18T12:39:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2015/10/18/linear-programming-from-dual-mapping-point-of-view</id>
    <content type="html"><![CDATA[<p>Yet another note on Math, about visualization of Linear Programming, some
thoughts on Operator and Adjoin.</p>

<!-- more -->

<h2 id="dual-map-and-adjoin-operator">Dual Map and Adjoin Operator</h2>

<p>Denote the matrix of a linear mapping $T$ corresponds to natural bases as $A$,
then $A^{T}$ is the matrix corresponds to the dual map of $T$. More
specifically, if the bases of the two space, the original space and its dual,
are orthogonal respectively, $A^{T}$ is the adjoin operator of $A$. Now suppose
$A \in R^{M \times N}$.</p>

<p>For a linear programming problem, the constraints are $Ax \leq b$, intuitively,
we understand it as a polyhedron, the intersection of finite number of
halfspaces.</p>

<p>We could also understand it from linear mapping and dual bases point of view.</p>

<p>$A$ maps points from $R^{N}$ to $R^{M}$. A column of $A$ corresponds to the
coordinates of the an natural basis of $R^{N}$ in the new $R^{M}$, meanwhile,
a column of $A^{T}$, which is a row of $A$, corresponds to the coordinates of a
dual basis of a natural basis of $R^{M}$ in $R^{N}$ if it is transformed by
$A^{T}$.</p>

<p>So a row $\vec{a_{i}}$ of $A$ is a $A^{T}$ transformed dual basis that
corresponds to one natural basis in $R^{M}$, which corresponds to a hyperplane
in $R^{N}$, also an element of the dual space of $R^{N}$.</p>

<h2 id="on-the-feasible-region-of-linear-programming">On the Feasible Region of Linear Programming</h2>

<p>Now we try to see whether we could get a picture from the above concepts.</p>

<h3 id="a-previous-possibly-wrong-attempt">A Previous Possibly Wrong Attempt</h3>

<p>This is the first visualization I have tried. It turns out not that right after
I discussed the idea with my optimization course teacher.</p>

<p>From this perspective, the polyhedron in $R^{N}$ is a squashed(or enlarged)
quadrant of $R^{M}$, which is the intersection of hyperplanes whose normals are
natural bases of $R^{M}$ — the hyperplanes only need to pass a constant
value, probably corresponding dimension of $b$(have not thought very clearly),
do not necessarily pass origin point.</p>

<p>If $M &gt; N$, $R^{M}$ gets squashed, and there are much freedom in the way how
the space gets squashed, which is analog with we have more equations than
variables, so it is easier to get solutions. Otherwise, $R^{M}$ gets enlarged,
however, no matter how the enlarging is done, it still remains as a low
dimensional space in the high dimensional space, thus the freedom is limited,
which is analog with more variables than equations, so it is harder or
impossible to get solutions.</p>

<h3 id="reason-in-the-standard-form">Reason In the Standard Form</h3>

<p>If we convert the problem to the standard form of linear programming, we could
see that the dimension or the original space is usually larger than the dual
space, otherwise, the feasible region could be easily empty. In this case, the
argument, that the dual space gets squashed, does not hold. But a different
picture turns out immediately.</p>

<p>Intuitively, which means it is not necessarily right, as long the objective
function does not parallel with one of the constraints, the solution to LP is a
basic solution, otherwise, we could move the point along one of the constraint
to change the objective value. Now we only discuss basic solutions.</p>

<p>For every basic solution, we have $N$ constraints being active. Note that $N$
is the dimension of the dual space. Thus, each set of $N$ active constraints
corresponds to a version of dual space that gets mapped from the standard basis
of dual space by those columns of $A^{T}$. More specifically, each active
hyperplane in the $R^{M}$ is a basis in the dual space $R^{N}$.</p>

<h2 id="on-duality-of-linear-programming">On Duality of Linear Programming</h2>

<p>This leads to an intuition about how on earth the dual problem of LP is
conceived in the first place, and makes its extension to conic programming
clear.</p>

<p>From my understanding, the dual in Optimization is to find a lower bound of the
distance in the original space in its dual space, being it the shortest
distance from a point to a subspace, from a point to a closed convex set or a
convex epigraph to a concave epigraph of functions. Those three examples, which
is three types of dual in infinite dimensional optimization try to find a
linear approximate lower bound for a normally non-linear objective
function. Their dual problems are usually some kind of LP, or other forms could
be easily solved. But for LP, all parts in the problem is already linear. From
this line of thinking, the dual of LP is to find a lower bound in the dual
space of $Ax$. How could this be? The key lies in the adjoin operator.</p>

<p>The standard form of LP is</p>

<script type="math/tex; mode=display">
\max\ c^{T}\\
Ax = b\\
x \geq 0
</script>

<p>We have an adjoin relation</p>

<script type="math/tex; mode=display">
\langle Ax, y\rangle = \langle x, A^{T}y \rangle\\
\langle b, y\rangle = \langle x, A^{T}y\rangle\\ 
\langle b, y\rangle \leq \langle x, c\rangle
</script>

<p>The last inequality holds because we have $x \geq 0$.</p>

<p>Conic programming just extends the meaning of $\geq$ and inner product.</p>

<h2 id="the-algebraic-nature-of-operator">The Algebraic Nature of Operator</h2>

<p>All of the thinking about originates from the way I learn Math. I want to get a
picture from the symbols and relationships. Up to now, all concepts I know
could be put into a 2D or 3D system with or without coordinates in my mind,
being it topology space, metric space, Banach space, inner product space,
Hilbert space, dual space, affine set, convex set, cone, measure, probability
measure and so on. Dual in optimization is a new concept, and I want to put it
somewhere in the system. In about 4 days, I almost finished the book
<em>Optimization by Vector Space Method</em>, which is about infinite dimensional
optimization, and learned the three kinds of duals mentioned before. I indeed
came up with similar visualization tricks mentioned in the book before I read
them. But in the section, some words rang a bell, after a few days I read them
and pondered on the meaning of adjoin, the relation between the $Ax$ and $X$.</p>

<p>At the beginning of the Chapter Six</p>

<blockquote>
  <p>Because it is difficult to obtain a simple geometric representation of an
arbitrary linear operator, the material in this chapter tends to be somewhat
more algebraic in character than that of other chapters. Effort is made,
however, to extend some of the geometric ideas used for the study of linear
functionals to general linear operators and also to interpret adjoints in
terms of relations among hyperplanes.</p>
</blockquote>

<p>The point of an operator $A$ is to transform a point in $X$ to a new space for
some purpose. It is not clear to see why it helps in the general form, but
think Fourier Transform, which is to transform a point in the signal space to
the frequency space. Boom, science advanced. In retrospect, do we need to keep
a picture in the natural basis of signal space when considering the frequency
space? No. In some research paper I read, for instance, scattering transform,
the whole is to make sure the new space has good properties.</p>

<p>So for operators, the most important is to enforce regularities to make sure
there is good properties in the new space, which is algebraic in nature instead
of geometrical.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[On Teaching and Learning]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2015/09/21/on-teaching-and-learning/"/>
    <updated>2015-09-21T20:37:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2015/09/21/on-teaching-and-learning</id>
    <content type="html"><![CDATA[<p>Some notes on teaching and learning.</p>

<!-- more -->

<p>The way we teach reflects the way we learn and the way we communicate. Teaching
gives me another perspective on how may I could be taught or just, learn from
others. Such experience has led me a long way to realize my deficiency.</p>

<p>I attended a workshop on teaching today and want to note down something
learned. It is the first time I got systematical training on how to teaching,
which is equivalent to how to learn.</p>

<p>The following stuffs come from the handout in the workshop.</p>

<h3 id="seven-research-based-principles-for-smart-teaching">Seven Research-based Principles for Smart Teaching</h3>

<p>There are seven principles in teaching, which also means in learning.</p>

<ol>
  <li>prior knowledge</li>
  <li>structuring knowledge</li>
  <li>motivation</li>
  <li>self-awareness on the one’s situation</li>
  <li>synthesis of different parts of acquired knowledge </li>
  <li>feedback</li>
  <li>emotional feeling, social and intellectual climate</li>
</ol>

<p>This is a systematical summary of elements that involves in the learning
process. Prior knowledge is what you already have; structuring knowledge is how
you condense your knowledge and build inner connection between different
separate parts; motivation is power house behind all your efforts;
self-awareness is about a clear awareness of one’s current situation — what
one have known, what one do not know, what one know one do not know; synthesis
is where something new could happen; feedback is how people get to know their
mistakes, so they could fix them, and learn new things; emotional stability and
social support is very important for long term learning.</p>

<p>After some thinking, it seems that nothing is really new for me, but the
summary is helpful.</p>

<h3 id="on-motivation">On Motivation</h3>

<p>Another important part on teaching and learning discussed is what motivate
people to do better on tasks that need cognitive thinking.</p>

<p>I long have known only money is not enough. Today I got a very good summary:</p>

<blockquote>
  <p>Pay people enough to take the issue of money off the table.</p>
</blockquote>

<p>The factors that motivate to do great work is autonomy, mastery and
purpose. There should many materials online talking on this given this is a
research output from scientists.</p>

<h3 id="three-skills-on-communication">Three Skills On Communication</h3>

<ol>
  <li>Storytelling</li>
  <li>Contextualizing</li>
  <li>Sketching</li>
</ol>

<p>All those are kind of one thing. People learn from examples, so we need
storytelling; people learn from examples that they know the most, so we need
contextualize the examples with their experience; people learn bit by bit,
dynamically, so we need to present it bit by bit, like sketching a picture.</p>

<p>It is easier said that done. Practice is important.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[On Linux Laptop Battery]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2015/09/07/on-linux-laptop-battery/"/>
    <updated>2015-09-07T14:15:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2015/09/07/on-linux-laptop-battery</id>
    <content type="html"><![CDATA[<p>I would like to note down the how to prolong battery life, in term of both
hours and years.</p>

<p>Roughly, there are three tricks to extend battery time, <code>laptop-mode</code>,
<code>powertop</code> and changing screen lightness, and one trick to extend life,
stopping battery charging according to thresholds. The last trick is only
applicable to Thinkpad.</p>

<!-- more -->

<h2 id="extending-battery-time">Extending Battery Time</h2>

<p>I have three tricks for extending the battery time, <code>laptop_mode</code>, <code>powertop</code>
and setting the lightness of the screen. The exact number is forgotten, but
roughly if the original time of the laptop is around 4 hours, enabling
<code>laptop_mode</code> will get me one extra, <code>powertop</code> two extra and lightness one
extra.</p>

<p>Normally, people are told to use one battery management programs considering
that different programs may conflict, but I found <code>laptop_mode</code> works well with
<code>powertop</code>, a long time ago. So I settled with it.</p>

<h3 id="laptopmode">laptop_mode</h3>

<p><a href="http://www.samwel.tk/laptop_mode/">laptop_mode</a> is about:</p>

<blockquote>
  <p>Laptop mode is a kernel “mode” that allows you to extend the battery life of
your laptop. It does this by making disk write activity “bursty”, so that only
reads of uncached data result in a disk spinup. It causes a significant
improvement in battery life (for usage patterns that allow it).</p>
</blockquote>

<p>There are configuration files for it, but I did not try to use them.</p>

<h3 id="powertop">powertop</h3>

<p><a href="https://01.org/powertop">powertop</a> is from Intel. It could tune a number of
options to save power usage. For details, refer to
<a href="https://wiki.archlinux.org/index.php/Powertop">here</a>. I will only note down
normal usage scenario.</p>

<p>After first installation, we need to run:</p>

<p><code>bash
sudo powertop --calibrate
</code></p>

<p>It will take several minutes to finish, and the screen could be dark for tens
of seconds. So do not panic when this happens. Also, do not touch your laptop
when powertop is calibrating. After this, you could get power consumption in
Watt and estimated remaining time in <code>powertop</code>. If you skip this, <code>powertop</code>
will still work, but not those two information.</p>

<p>Start <code>powertop</code>, in the <code>tunable</code> tab, you could see a number of tunable
options to improve your battery time. Make all the “Bad” to “Good” will save a
lot of power consumption. However, the change is lost after you reboot. To make
it permanent, do the following.</p>

<p>Run,</p>

<p><code>bash
sudo powertop --html
</code></p>

<p>You will get a html version report under current directory. Go to the tunable
page, you could see the command to tune, similar with the following:</p>

<p><code>bash
# Those following are the settings from powertop to save power.
echo '1500' &gt; '/proc/sys/vm/dirty_writeback_centisecs';
echo '0' &gt; '/proc/sys/kernel/nmi_watchdog';
echo 'min_power' &gt; '/sys/class/scsi_host/host1/link_power_management_policy';
echo 'min_power' &gt; '/sys/class/scsi_host/host2/link_power_management_policy';
echo 'min_power' &gt; '/sys/class/scsi_host/host0/link_power_management_policy';
echo 'auto' &gt; '/sys/bus/usb/devices/1-6/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:16.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:02:00.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1f.3/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1f.2/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1f.6/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1f.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1d.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1c.1/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:1c.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:14.0/power/control';
echo 'auto' &gt; '/sys/bus/pci/devices/0000:00:02.0/power/control';
</code></p>

<p>Copy all those lines, or only the ones you want to tune to <code>/etc/rc.local</code>,
then the change will be permanent.</p>

<h3 id="set-default-lightness">Set Default Lightness</h3>

<p>As least for me, no new packages are needed. Just put the following line in
<code>/etc/rc.local</code> is OK. Given the difference in hardwares, the <code>intel_backlight</code>
may be something else.</p>

<p><code>bash
# Set default brightness. The maximum value is 852. The value 350 here is hard tuned.
echo 350 &gt; /sys/class/backlight/intel_backlight/brightness
</code></p>

<h2 id="extending-battery-life">Extending Battery Life</h2>

<p>I am delighted to find out that Thinkpad has such a good support for
Linux. Lenovo has a good mechanism to extend battery life on Windows. It will
stop charging the battery if the battery level has exceeded some threshold,
which would prolong the battery life given the properties of Lithium battery.</p>

<p>Thinkpad still support it if you are using Linux. The solution depends on the
hardware of your Thinkpad. If you are installing on a recent Thinkpad that has
an Ivy Bridge or newer processor (X230, T430, T530, etc.), like me, you could
use a utility named <a href="http://www.thinkwiki.org/wiki/Tpacpi-bat">tpacpi-bat</a>.</p>

<p>If you are using an old Thinkpad, go
<a href="http://www.thinkwiki.org/wiki/Tp_smapi">there</a> for a solution.</p>

<h3 id="install-acpi-call">Install <code>acpi-call</code></h3>

<p>I use Ubuntu 14.04, so the procedure to install <code>tpacpi-bat</code> on Ubuntu will be
described.</p>

<p><code>tpacpi-bat</code> has a <a href="https://launchpad.net/~morgwai/+archive/ubuntu/tpbat">ppa</a>
for Debian based system. Just add the ppa to your source:</p>

<p><code>bash
sudo sudo add-apt-repository PPA_NAME
</code></p>

<p><code>tpacpi-bat</code> depends on <code>acpi-call</code>, which is part of <code>acpi-call-dkms</code>. So we
need to install <code>acpi-call-dkms</code> first. It is also part of the ppa.</p>

<p>The main reason that I write this note is that the package has a bug. This bug
is widely
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=762281">discovered</a> almost
one year ago, it is strange why it is not fixed yet. After setting up the ppa,
first try installing <code>acpi-call-dkms</code>.</p>

<p>The installation will fail with message similar with the following:</p>

<p><code>bash
make KERNELRELEASE=3.19.0-26-generic KVERSION=3.19.0-26-generic KDIR=/lib/modules/3.19.0-26-generic/build....(bad exit status: 2)
Error! Bad return status for module build on kernel: 3.19.0-26-generic (x86_64)
Consult /var/lib/dkms/acpi_call/1.1.0/build/make.log for more information.
dpkg: error processing package acpi-call-dkms (--configure):
</code></p>

<p>Have a check at the <code>make.log</code>, the compilation error is:</p>

<p><code>bash
Please don't include &lt;acpi/acpi.h&gt; directly, include &lt;linux/acpi.h&gt; instead
</code></p>

<p>So I go to <code>/var/lib/dkms/acpi_call/1.1.0/source/acpi_call.c</code>, where the
installer unpacks the source. I changed <code>&lt;acpi/acpi.h&gt;</code> to <code>&lt;linux/acpi.h&gt;</code>,
then try the installation(wit the same command) again. Wow, the compilation
passed and the installation is successful.</p>

<h3 id="install-tpacpi-bat">Install <code>tpacpi-bat</code></h3>

<p>This step is easy, just normal apt installation.</p>

<p><code>bash
sudo apt-get install tpacpi-bat
</code></p>

<h3 id="configuration">Configuration</h3>

<p>After installation, now we need to configure the charge threshold of our
battery. The help message of <code>tpacpi-bat</code> does not seem to be very clear for
me. So I will note down how to get and set charging battery thresholds.</p>

<p><code>bash
# tpacpi-bat get start-threshold primary-battery
tpacpi-bat   -g   ST             1
</code></p>

<p>Thinkpad has one primary battery and one secondary battery. 1 stands for
primary battery and 2 stands for secondary battery.</p>

<p>To set the start threshold for starting charging:</p>

<p><code>bash
# tpacpi-bat set start-threshold primary-battery   start-threshold
tpacpi-bat   -s  ST              1                 40 
</code></p>

<p>It means the battery won’t charge if the its battery level is higher than 40.</p>

<p>To make the change permanent, add the following lines in <code>/etc/rc.local</code>.</p>

<p><code>bash
# Primary battery
tpacpi-bat -s ST 1 40 # Start threshold
tpacpi-bat -s SP 1 80 # Stop threshold
# Secondary battery
tpacpi-bat -s ST 2 40
tpacpi-bat -s SP 2 80
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Note on texlive from Ubuntu Source]]></title>
    <link href="http://shawnLeeZX.github.io/blog/2015/09/02/note-on-texlive-from-ubuntu-source/"/>
    <updated>2015-09-02T21:49:00+08:00</updated>
    <id>http://shawnLeeZX.github.io/blog/2015/09/02/note-on-texlive-from-ubuntu-source</id>
    <content type="html"><![CDATA[<p>Some note on the installing LaTeX packages from network.</p>

<!-- more -->

<p>It is very convenient to install packages using <code>tlmgr</code>. However, sometimes
the mirror you are trying to connect would be extremely slow, which makes it
feel like tlmgr has stuck.</p>

<p>If you have not been deal with texlive installation for a long time, like me
today, the first thoughts stuck me is that there is something wrong with
texlive installation given that I was doing a fresh installation on a new
laptop I did not familiar. Only after about a hour’s debugging, the idea that
maybe it is the network issue struck me.</p>

<p>Here I want to note down some points about how tlmgr choose its mirror servers,
so I won’t be figuring out the same problem next time.</p>

<p>By default, <code>tlmgr</code>’s default repository url is a multiplexor, which will
choose a mirror in the closest network proximity to your location. See the
right pane of this <a href="ctan.org/mirrors">page</a>.</p>

<p>To set such behavior of <code>tlmgr</code>, the command is like this:</p>

<p><code>bash
tlmgr option repository ctan
</code></p>

<p>where <code>ctan</code> is the nickname for tlmgr for the multiplexor mirror.</p>

<p>Today the multiplexor gave me a server that is not working my LAN
network. Luckily that I get a workable mirror from my PC and use that to solve
the network problem.</p>

<p>The url of a mirror is like this:
<code>http://ftp.yzu.edu.tw/CTAN/systems/texlive/tlnet</code>. The example here is the
mirror that works for me this time.</p>

<p><em>NOTE FOR ME</em>:</p>

<p>I have set this mirror as default for my laptop.</p>
]]></content>
  </entry>
  
</feed>
